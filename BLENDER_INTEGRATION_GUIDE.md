# 🎾 Tennis Ball Tracking → Blender Integration Guide

This guide shows you how to import your tennis ball tracking data into Blender and create animated graphics overlays for your tennis footage.

## 📋 Prerequisites

- **Blender 3.0+** (tested with Blender 4.0)
- **tennis_tracking.json** file (generated by your tracking script)
- **blender_tennis_import.py** script (provided)
- Your original tennis video footage

## 🚀 Quick Start (5 Minutes)

### Step 1: Prepare Your Files

```
your_project_folder/
├── tennis_footage.mp4          # Your original video
├── tennis_tracking.json        # Generated tracking data
├── blender_tennis_import.py    # Import script
└── tennis_project.blend        # Your Blender file (create this)
```

### Step 2: Open Blender

1. Launch **Blender**
2. Create a **New General** project
3. **Save** your project as `tennis_project.blend` in your project folder

### Step 3: Run the Import Script

1. Switch to the **Scripting** workspace (top tab)
2. Click **"New"** to create a new text file
3. **Copy and paste** the entire `blender_tennis_import.py` script
4. Click **"Run Script"** ▶️

**The script will automatically:**

- ✅ Load your tracking data
- ✅ Create a tennis ball object with realistic materials
- ✅ Create a reference tennis court
- ✅ Animate the ball through all 2,550 tracked positions
- ✅ Set up proper camera and lighting

### Step 4: Play the Animation

- Press **SPACEBAR** to play the animation
- Use **mouse wheel** to zoom, **middle mouse** to rotate view
- The ball will follow the exact 3D path from your tracking data!

## 🎬 Advanced Integration

### Adding Your Tennis Video Background

1. **Switch to Shading workspace**
2. **Add your video as background:**
   ```
   Add → Image → Background
   ```
3. **Load your tennis footage:**
   - Click folder icon next to "Image"
   - Select your `tennis_footage.mp4`
   - Enable "Auto Refresh" for video playback

### Compositing Tennis Ball Over Video

1. **Switch to Compositing workspace**
2. **Enable "Use Nodes"**
3. **Add Mix node** to combine:
   - Video background (bottom layer)
   - Rendered ball animation (top layer)

### Camera Tracking (Optional Advanced)

For perfect alignment with your footage:

1. **Switch to Motion Tracking workspace**
2. **Load your tennis video**
3. **Track camera motion** using Blender's built-in tracker
4. **Solve camera motion** to match 3D scene to video

## 🎯 Rendering Your Final Composite

### Quick Render Settings

```
Render Properties:
├── Resolution: 1920x1080 (match your video)
├── Frame Rate: 55.9 FPS (matches tracking data)
├── Output Format: MP4 or PNG sequence
└── Frame Range: 1 to 2550 (all tracked frames)
```

### Render Commands

- **Single Frame**: F12
- **Animation**: Ctrl+F12
- **Viewport Render**: Shift+Z → Rendered view

## 🔧 Customization Options

### Modify Ball Appearance

```python
# In the script, find create_tennis_ball() function
principled.inputs['Base Color'].default_value = (1.0, 0.0, 0.0, 1.0)  # Red ball
principled.inputs['Roughness'].default_value = 0.1  # Shinier
```

### Adjust Ball Size

```python
# In create_tennis_ball() function
bpy.ops.mesh.uv_sphere_add(radius=0.05, location=(0, 0, 0))  # Larger ball
```

### Change Animation Speed

```python
# In animate_tennis_ball() function
bpy.context.scene.render.fps = 30  # Slower playback
```

## 🎨 Creative Enhancement Ideas

### 1. Ball Trail Effect

Add a particle system or curve tracer to show ball path:

```
Object Properties → Particle Properties → Add Particle System
```

### 2. Impact Effects

Add spark/dust effects at ball-court contact points:

```python
# Check when ball Z-position ≈ 0 (court level)
if pos['z'] < 0.1:
    # Add particle burst at this frame
```

### 3. Multiple Camera Angles

- Duplicate camera objects
- Animate between different viewpoints
- Create dramatic slow-motion sequences

### 4. Physics Simulation

- Add physics properties to the ball
- Enable collision detection with court
- Create realistic bounce dynamics

## 🐛 Troubleshooting

### "Could not find tennis_tracking.json"

**Solution:** Make sure the JSON file is in the same folder as your .blend file

### Animation is too fast/slow

**Solution:** Adjust FPS in render settings or modify the script's FPS value

### Ball appears too small/large

**Solution:** Modify the `radius` parameter in `create_tennis_ball()`

### Camera view doesn't match video

**Solution:** Use Blender's camera tracking to match your original footage perspective

### Script won't run

**Solution:**

1. Check Blender version (needs 3.0+)
2. Make sure you're in Scripting workspace
3. Verify the script was pasted completely

## 📊 Data Verification

Your tracking data contains:

- **2,550 frames** of ball positions
- **45.6 seconds** of tennis action
- **3D coordinates** in real-world meters
- **Timestamps** synced to original video

The Blender import will create keyframes for every tracked position, giving you frame-perfect synchronization with your original footage.

## 🎯 Production Workflow

1. **Track** → Run tennis_tracker.py on your footage
2. **Import** → Use this Blender script to load tracking data
3. **Enhance** → Add visual effects, graphics overlays
4. **Composite** → Combine with original video background
5. **Render** → Export final video with ball tracking graphics

## 🔗 Next Steps

- Experiment with different ball materials (glowing, metallic, etc.)
- Add court line graphics and score overlays
- Create multiple ball trails for different shots
- Integrate with other graphics software (After Effects, etc.)
- Set up batch rendering for multiple tennis videos

---

**Happy Rendering! 🎾🎬✨**
